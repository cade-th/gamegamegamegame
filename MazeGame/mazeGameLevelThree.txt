#include <stdio.h>

int moveUp(number)
{
	return number -= 16;
}

int moveDown(number)
{
	return number += 16;
}

int moveLeft(number)
{
	return number -= 1;
}

int moveRight(number)
{
	return number += 1;
}

int main(void) {

	int playerPosition = 113;
	int goal = 31;
	int graphicInt = 0;
	int playerDecision;
	int key = 17;
	int blade = 1;

	int maze[128] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,0,0,0,0,0,1,1,1,1,1,1,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,0,0,0,3,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1};



		while (playerPosition != goal) {

			for (int i = 0; i < 30; i++) {
				printf("\n");
			}
			
			if (blade == 1) {
				maze[35] = 0;
				maze[36] = 4;
				maze[51] = 4;
				maze[52] = 0;

				maze[60] = 5;
				maze[61] = 0;
				maze[76] = 0;
				maze[77] = 5;
			} else {
				blade = 0;
				maze[35] = 5;
				maze[36] = 0;
				maze[51] = 0;
				maze[52] = 5;

				maze[60] = 0;
				maze[61] = 4;
				maze[76] = 4;
				maze[77] = 0;
			}

			blade += 1;

			if (maze[playerPosition] == 4 || maze[playerPosition] == 5) {
				playerPosition = 113;
				maze[17] = 2;
				maze[103] = 3;
			}

			graphicInt = 0;
			while (graphicInt < 127) {
				for (int i = 0; i < 16; i++) {
					if (graphicInt == playerPosition) {
						printf("*");
					} else if (maze[graphicInt] == 2) {
						printf(",");
					} else if (maze[graphicInt] == 3) {
						printf("|");
					} else if (maze[graphicInt] == 4) {
						printf("/");
					} else if (maze[graphicInt] == 5) {
						printf("\\");
					} else if (maze[graphicInt] == 0) {
						printf(" ");
					} else {
						printf("#");
					}
					graphicInt++;
				}

				printf("\n");

			}

			printf("1 Up 2 Down 3 Left 4 Right \n");
			scanf("%d", &playerDecision);


			if (playerDecision == 1) {
				playerPosition = moveUp(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition += 16;
				}
			}

			if (playerDecision == 2) {
				playerPosition = moveDown(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition -= 16;
				}
			}

			if (playerDecision == 3) {
				playerPosition = moveLeft(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition++;
				}
			}

			if (playerDecision == 4) {
				playerPosition = moveRight(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 || maze[playerPosition] == 3) {
					playerPosition--;
				}
			}

			if (playerPosition == key) {
				maze[17] = 0;
				maze[103] = 0;
			}

		}

	printf("you win!");

	return 0;
}


/*


################
#,  ##          
###\/# #########
###/\# ##   \/##
#### #    ##/\##
#    ######## ##
# ##   |      ##
# ##############

1111111111111111
1200110000000000
1115410111111111
1114510110005411
1111010000114511
1000011111111011
1011000300000011
1011111111111111



16 * 8 80 48 128

*/