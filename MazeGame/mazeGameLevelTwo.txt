#include <stdio.h>

int moveUp(number)
{
	return number -= 16;
}

int moveDown(number)
{
	return number += 16;
}

int moveLeft(number)
{
	return number -= 1;
}

int moveRight(number)
{
	return number += 1;
}

int main(void) {

	int playerPosition = 113;
	int goal = 14;
	int graphicInt = 0;
	int playerDecision;
	int key = 23;

	int maze[128] = {1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,1,2,1,0,0,0,1,1,0,1,1,0,1,1,1,0,0,0,1,0,1,1,1,0,0,1,1,0,0,0,1,1,1,1,1,0,1,1,0,0,1,1,1,1,1,0,1,1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,0,0,3,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1};



		while (playerPosition != goal) {

			for (int i = 0; i < 30; i++) {
				printf("\n");
			}

			graphicInt = 0;
			while (graphicInt < 127) {
				for (int i = 0; i < 16; i++) {
					if (graphicInt == playerPosition) {
						printf("*");
					}
					else if (maze[graphicInt] == 2) {
						printf(",");
					}
					else if (maze[graphicInt] == 3) {
						printf("|");
					}
					else if (maze[graphicInt] == 0) {
						printf(" ");
					}
					else {
						printf("#");
					}
					graphicInt++;
				}

				printf("\n");

			}

			printf("1 Up 2 Down 3 Left 4 Right \n");
			scanf("%d", &playerDecision);


			if (playerDecision == 1) {
				playerPosition = moveUp(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition += 16;
				}
			}

			if (playerDecision == 2) {
				playerPosition = moveDown(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition -= 16;
				}
			}

			if (playerDecision == 3) {
				playerPosition = moveLeft(playerPosition);
				if (playerPosition < 0 || playerPosition > 127 || maze[playerPosition] == 1 && 3) {
					playerPosition++;
				}
			}

			if (playerDecision == 4) {
				playerPosition = moveRight(playerPosition);
				if (playerPosition < 0 || playerPosition > 126 || maze[playerPosition] == 1 || maze[playerPosition] == 3) {
					playerPosition--;
				}
			}


			if (playerPosition == key) {
				maze[23] = 0;
				maze[101] = 0;
			}

		}

	printf("you win!");

	return 0;
}


/*


############## #
#     #,#   ## #
# ###   # ###  #
#   ##### ##  ##
### ##    ##   #
#   ### ###### #
# #  |         #
#*##############

1111111111111101
1000001210001101
1011100010111001
1000111110110011
1110110000110001
1000111011111101
1010030000000001
1011111111111111

16 * 8 80 48 128

*/